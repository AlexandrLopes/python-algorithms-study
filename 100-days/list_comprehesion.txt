List Comprehension

A List Comprehension não é mágica; é apenas uma forma de reescrever um loop for mudando a ordem das palavras.
Vamos fazer uma comparação direta de "De/Para".
1. A Anatomia do Código
Um loop tradicional tem 3 ingredientes essenciais. Veja este código:
Python

# O "Jeito Velho"
nova_lista = []
for n in numeros:       # 1. A ITERAÇÃO (O Loop)
    if n > 10:          # 2. A CONDIÇÃO (Opcional)
        nova_lista.append(n * 2)  # 3. A EXPRESSÃO (O Resultado)

Para transformar isso em List Comprehension, você só precisa copiar e colar esses pedaços em uma ordem específica. Não precisa imaginar nada, apenas mover o texto de lugar.

2. A Ordem da List Comprehension
A regra de montagem é sempre fixa:
[ <3. EXPRESSÃO> <1. ITERAÇÃO> <2. CONDIÇÃO> ]

Perceba que a ordem mudou:
* No loop normal, o Resultado (n * 2) fica no final, dentro do append.
* Na Comprehension, o Resultado (n * 2) é a primeira coisa que você escreve.

3. O Passo a Passo (Copy & Paste)
Vamos converter o código acima sem pensar em lógica, apenas movendo texto:
1. Pegue o que está dentro do append(...).
    * Temos: n * 2
    * Coloque no início: [n * 2 ...
2. Pegue a linha do for.
    * Temos: for n in numeros
    * Coloque depois: [n * 2 for n in numeros ...
3. Pegue a linha do if (se existir).
    * Temos: if n > 10
    * Coloque no final: [n * 2 for n in numeros if n > 10]

----

Exemplo:

resultado = []

for numero in lista:
    if numero > 5:
        resultado.append(numero - 1)

Ficaria: 

[numero-1 for numero in lista if numero > 5]

"numero - 1" vai para a primeira parte, que é resultado que eu quero
o "for" é o mesmo que eu abro o loop, ou seja, "for numero in lista"
if é a condição normal, sai do meio e vai para o final
